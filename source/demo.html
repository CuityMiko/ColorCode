<!DOCTYPE html>
<html>
    <head>
        <title>Test hl</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="cc-yurnero.css" media="all" />
        <script src="highlight.js"></script>
        <script src="lang-js.js"></script>
        <script src="lang-css.js"></script>
        <script src="lang-xml.js"></script>
        <script src="lang-html.js"></script>
        <script src="helpers.js"></script>
        <script type="text/javascript">
            window.onload=function() {  
                DlHighlight.HELPERS.highlightByName('fooname', 'pre','', true); 
                DlHighlight.HELPERS.highlightByName('cee', 'pre','', false); 
                DlHighlight.HELPERS.highlightByName('fefe', 'pre','', false);            
            }
        </script>
    </head>
    <body>
    <p>Just for test.</p>
<pre name="fefe" class="xml">
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Hello world!&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class="hello"&gt;
            &lt;a href="http://www.baidu.com" title="link"&gt;hello&lt;/a&gt;
            &lt;img src="http://www.link.com/img.png" alt="eee" /&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre>
<pre name="fefe" class="xml">
&lt;code&gt;fefef&lt;/code&gt;
&lt;div class="fefefe"&gt;fee&lt;/div&gt;
</pre>
<pre name="cee" class="css">
.notice h2, .notice h3 {
    color: #000000; //test
    background: url(../../);
    background: url('http://hello/pizn.net');
    font-size: 14px;
    font-weight: 600;
    display: none;
    overflow: auto;
    linehight: auto;
    display: inline-block;
}
</pre>
        <pre name="fooname" class="js">
/**
 * hello
 */
DlHighlight.HELPERS = {

        highlightByName : function(name, tag, args, bubbles) {
            if (!bubbles)
                bubbles = false;
            if (!args)
                args = {};
            if (!tag)
                tag = "pre";
            var a = document.getElementsByTagName(tag);
            for (var i = a.length; --i >= 0;) {
                var el = a[i];
                if (el.getAttribute("name") == name) {

                    var code = el._msh_text || getText(el);
                    el._msh_text = code;
                    args.lang = el._msh_type || el.className;

                    el._msh_type = args.lang;   

                    // 解决 IE 下的 bug             
                    if (!DlHighlight.is_ie) {
                        args.lineNumbers = bubbles;
                    }

                    var hl = new DlHighlight(args);

                    code = hl.doItNow(code);        
                    if (DlHighlight.is_ie) {        
                        // kills whitespace
                        var div = document.createElement("div");
                        div.innerHTML = "<pre>" + code + "</pre>";                      
                        while (div.firstChild) {
                            // remove the code
                            el.removeChild(el.firstChild);
                            // append the new style code
                            el.appendChild(div.firstChild);
                        }

                    } else {    
                        el.innerHTML = code;                    
                    }
                    el.className = "DlHighlight " + el.className;
                }
            }
        }

    };
        </pre>
    </body>
</html>
